if (self.CavalryLogger) { CavalryLogger.start_js(["+jMhV"]); }

__d("SphericalPhotoViewerLogEvents",[],(function a(b,c,d,e,f,g){f.exports={CDN_IMAGE_FAILURE:"spherical_photo_cdn_image_failure",CUBE_LOAD_TIME:"spherical_photo_cube_load_time",DRAG_MOUSE_ANIMATION:"spherical_photo_drag_mouse_animation",DRAG_START:"spherical_photo_drag_start",ENTER_FULLSCREEN:"spherical_photo_tap_feed_to_fullscreen",EXIT_FULLSCREEN:"spherical_photo_fullscreen_exited",FALLBACK_LEARNMORE:"spherical_photo_fallback_learnmore",FALLBACK_PREVIEW:"spherical_photo_fallback_preview",FEED_VP_ENTERED:"spherical_photo_feed_vp_entered",FEED_VP_EXITED:"spherical_photo_feed_vp_exited",LOADED:"spherical_photo_loaded",MOUSEOVER_START:"spherical_photo_mouseover_start",PHONE_PAN_ANIMATION:"spherical_photo_phone_pan_animation",RENDER_FRAME_RATE:"spherical_photo_render_frame_rate",RENDERER_SETUP:"spherical_photo_renderer_setup",RENDERER_STATS:"spherical_photo_renderer_stats",SHOW_VIEW_IN_VR:"spherical_photo_show_view_in_vr",SIGNIFICANT_MOVEMENT:"spherical_photo_significant_movement",TAP_HEADING_INDICATOR:"spherical_photo_tap_heading_indicator",TAP_VIEW_IN_VR:"spherical_photo_tap_view_in_vr",WEBGL_CONTEXT_LOST:"spherical_photo_webgl_context_lost",WEBGL_INIT_FAILURE:"spherical_photo_webgl_init_failure",WEBGL_RENDER_FAILURE:"spherical_photo_webgl_render_failure",M_SENSOR_SETUP_FAILURE:"spherical_photo_m_sensor_setup_failure",WWW_ENTER_SNOWLIFT:"spherical_photo_www_enter_snowlift",WWW_EXIT_SNOWLIFT:"spherical_photo_www_exit_snowlift",WWW_GYRO_START:"spherical_photo_www_gyro_start",ZOOM_START:"spherical_photo_zoom_start",INITIAL_VIEW_MODIFIED:"spherical_photo_initial_view_modified",POST_EVENT:"spherical_photo_post_event",TOGGLE_OFF:"spherical_photo_toggle_off",TOGGLE_ON:"spherical_photo_toggle_on",WWW_IVS_OPEN:"spherical_photo_www_ivs_open",WWW_IVS_CANCEL:"spherical_photo_www_ivs_cancel",WWW_IVS_ENABLE_ON_SAVE:"spherical_photo_www_ivs_enable_on_save",WWW_IVS_DISABLE_ON_SAVE:"spherical_photo_www_ivs_disable_on_save",WWW_IVS_REQUEST_DONE:"spherical_photo_www_ivs_request_done",WWW_IVS_REQUEST_FAILED:"spherical_photo_www_ivs_request_failed",WWW_IVS_REQUEST_START:"spherical_photo_www_ivs_request_start",WWW_IVS_UPDATE_DONE:"spherical_photo_www_ivs_update_done",WWW_IVS_UPDATE_FAILED:"spherical_photo_www_ivs_update_failed",WWW_IVS_UPDATE_START:"spherical_photo_www_ivs_update_start",SERVER_IVS_UPDATE_DONE:"spherical_photo_server_ivs_update_done",SERVER_IVS_UPDATE_FAILED:"spherical_photo_server_ivs_update_failed",SERVER_IVS_UPDATE_START:"spherical_photo_server_ivs_update_start",DRAG_START_DEPRECATED:"drag_start_360_photo",PHONE_PAN_ANIMATION_DEPRECATED:"phone_pan_animation_360_photo",SHOW_VIEW_IN_VR_DEPRECATED:"show_360_photo_view_in_vr",SIGNIFICANT_MOVEMENT_DEPRECATED:"significant_movement_360_photo",TAP_FEED_TO_FULLSCREEN_DEPRECATED:"tap_360_photo_feed_to_fullscreen",TAP_HEADING_INDICATOR_DEPRECATED:"tap_360_photo_heading_indicator",TAP_VIEW_IN_VR_DEPRECATED:"tap_360_photo_view_in_vr",ZOOM_START_DEPRECATED:"zoom_start_360_photo"};}),null);
__d('SphericalPhotoViewerTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('spherical_photo_viewer_log:SphericalPhotoViewerLoggerConfig',this.$SphericalPhotoViewerTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('spherical_photo_viewer_log:SphericalPhotoViewerLoggerConfig',this.$SphericalPhotoViewerTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$SphericalPhotoViewerTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$SphericalPhotoViewerTypedLogger1=babelHelpers['extends']({},this.$SphericalPhotoViewerTypedLogger1,j);return this;};h.prototype.setAvgFrameRenderTime=function(j){this.$SphericalPhotoViewerTypedLogger1.avg_frame_render_time=j;return this;};h.prototype.setAvgTextureToScreenRatio2=function(j){this.$SphericalPhotoViewerTypedLogger1.avg_texture_to_screen_ratio2=j;return this;};h.prototype.setClientUserID=function(j){this.$SphericalPhotoViewerTypedLogger1.client_userid=j;return this;};h.prototype.setComposerSessionID=function(j){this.$SphericalPhotoViewerTypedLogger1.composer_session_id=j;return this;};h.prototype.setDevicePixelRatio=function(j){this.$SphericalPhotoViewerTypedLogger1.device_pixel_ratio=j;return this;};h.prototype.setDt=function(j){this.$SphericalPhotoViewerTypedLogger1.dt=j;return this;};h.prototype.setErrorCode=function(j){this.$SphericalPhotoViewerTypedLogger1.error_code=j;return this;};h.prototype.setErrorMessage=function(j){this.$SphericalPhotoViewerTypedLogger1.error_message=j;return this;};h.prototype.setErrorStackTrace=function(j){this.$SphericalPhotoViewerTypedLogger1.error_stack_trace=j;return this;};h.prototype.setErrorType=function(j){this.$SphericalPhotoViewerTypedLogger1.error_type=j;return this;};h.prototype.setEventType=function(j){this.$SphericalPhotoViewerTypedLogger1.event_type=j;return this;};h.prototype.setFallbackUI=function(j){this.$SphericalPhotoViewerTypedLogger1.fallback_ui=j;return this;};h.prototype.setMaxGpuMemoryUsed=function(j){this.$SphericalPhotoViewerTypedLogger1.max_gpu_memory_used=j;return this;};h.prototype.setMaxTileLevel=function(j){this.$SphericalPhotoViewerTypedLogger1.max_tile_level=j;return this;};h.prototype.setName=function(j){this.$SphericalPhotoViewerTypedLogger1.name=j;return this;};h.prototype.setNumberOfSphericalPhoto=function(j){this.$SphericalPhotoViewerTypedLogger1.number_of_spherical_photo=j;return this;};h.prototype.setPhotoID=function(j){this.$SphericalPhotoViewerTypedLogger1.photo_id=j;return this;};h.prototype.setPitch=function(j){this.$SphericalPhotoViewerTypedLogger1.pitch=j;return this;};h.prototype.setRenderMethod=function(j){this.$SphericalPhotoViewerTypedLogger1.render_method=j;return this;};h.prototype.setSphericalPhotoSessionID=function(j){this.$SphericalPhotoViewerTypedLogger1.spherical_photo_session_id=j;return this;};h.prototype.setSurface=function(j){this.$SphericalPhotoViewerTypedLogger1.surface=j;return this;};h.prototype.setTotalDataLoaded=function(j){this.$SphericalPhotoViewerTypedLogger1.total_data_loaded=j;return this;};h.prototype.setVfov=function(j){this.$SphericalPhotoViewerTypedLogger1.vfov=j;return this;};h.prototype.setViewportHeight=function(j){this.$SphericalPhotoViewerTypedLogger1.viewport_height=j;return this;};h.prototype.setViewportWidth=function(j){this.$SphericalPhotoViewerTypedLogger1.viewport_width=j;return this;};h.prototype.setYaw=function(j){this.$SphericalPhotoViewerTypedLogger1.yaw=j;return this;};var i={avg_frame_render_time:true,avg_texture_to_screen_ratio2:true,client_userid:true,composer_session_id:true,device_pixel_ratio:true,dt:true,error_code:true,error_message:true,error_stack_trace:true,error_type:true,event_type:true,fallback_ui:true,max_gpu_memory_used:true,max_tile_level:true,name:true,number_of_spherical_photo:true,photo_id:true,pitch:true,render_method:true,spherical_photo_session_id:true,surface:true,total_data_loaded:true,vfov:true,viewport_height:true,viewport_width:true,yaw:true};f.exports=h;}),null);
__d('OGHovercardLayerHideOnBlur',['ContextualThing','DOM','Event'],(function a(b,c,d,e,f,g){function h(i){this._layer=i;}Object.assign(h.prototype,{_subscriptions:null,_clickListener:null,enable:function i(){this._subscriptions=[this._layer.subscribe('show',this._attach.bind(this)),this._layer.subscribe('hide',this._detach.bind(this))];if(this._layer.isShown())this._attach();},disable:function i(){this._detach();while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null;},_detach:function i(){this._clickListener&&this._clickListener.remove();this._clickListener=null;},_attach:function i(){setTimeout(function(){this._clickListener=c('Event').listen(document.documentElement,'click',this._maybeHide.bind(this));}.bind(this),0);},_maybeHide:function i(event){var j=event.getTarget();if(c('DOM').contains(this._layer.getContent(),j)||c('ContextualThing').containsIncludingLayers(this._layer.getContentRoot(),j))return;if(this._shouldHide(event))this._layer.hide();},_shouldHide:function i(event){return true;}});f.exports=h;}),null);
__d('OGAggregationHovercardTarget',['cx','fbt','Event','ArbiterMixin','AsyncRequest','ContextualDialog','ContextualDialogArrow','CSS','DOM','LayerHideOnBlur','LayerHideOnEscape','OGHovercardLayerHideOnBlur'],(function a(b,c,d,e,f,g,h,i){var j=350,k={};function l(n){return new (c('ContextualDialog'))({addedBehaviors:[c('LayerHideOnBlur'),c('LayerHideOnEscape')],arrowBehavior:c('ContextualDialogArrow'),classNames:[n]},c('DOM').create('div',{className:"_4q1"},i._("Loading..."))).setWidth(j);}Object.assign(m,{setHovercard:function n(o,p){var q=k[o];q&&q.setHovercard(p);}});function m(n,o,p,q,r,s,t,u,v){k[o]=this;this._targetID=o;this._endpoint=p;this._preventClose=r||[];this._position=t||'below';this._dialogClass=u||'';this._fetchOnHover=v;this.init(n);for(var w=0,x=q.length;w<x;w++){var y=q[w];this.addTrigger(y.element,y.trigger_class,y.context);}if(s)this.showHovercard(null,null);}Object.assign(m.prototype,c('ArbiterMixin'),{init:function n(o){this._hovercardShown=false;this._hovercardScheduled=false;this._target=o;this._triggers=[];this._hovercard=null;this._fetching=false;this._placeholder=null;this._placeholderListener=null;this._shownClass='hover_shown';this._triggerClass=null;this._currentTrigger=null;this._context=null;return this;},addTrigger:function n(o,p,q){this._triggers.push(o);c('Event').listen(o,'click',this._onTriggerClick.bind(this,o,p,q));if(this._fetchOnHover)c('Event').listen(o,'mouseover',this._onTriggerMouseOver.bind(this));},_onTriggerMouseOver:function n(){this._fetch();},_onTriggerClick:function n(o,p,q){q=q||this._target;if(this._hovercardShown&&this._hovercard.getContext()===q||this._hovercardScheduled&&this._placeholder.getContext()===q||(this._hovercardShown||this._hovercardScheduled)&&this._currentTrigger===o){this._currentTrigger=null;this.hideHovercard();return;}this.hideHovercard();this._currentTrigger=o;this.showHovercard(p,q);},_fetch:function n(){if(this._hovercard!=null||this._fetching)return;this._fetching=true;var o=function q(){this._fetching=false;},p=function q(){this.hideHovercard();};new (c('AsyncRequest'))(this._endpoint).setData({hover_target:this._targetID}).setMethod('GET').setReadOnly(true).setErrorHandler(p.bind(this)).setTransportErrorHandler(p.bind(this)).setFinallyHandler(o.bind(this)).send();},setHovercard:function n(o){var p,q,r=this;this._hovercard=o;p=babelHelpers.inherits(s,c('OGHovercardLayerHideOnBlur'));q=p&&p.prototype;function s(t){'use strict';q.constructor.call(this,t);}s.prototype.$conditionalHideOnBlur1=function(event){'use strict';var t=event.getTarget();for(var u=0,v=r.$conditionalHideOnBlur2.length;u<v;u++)if(c('DOM').contains(r.$conditionalHideOnBlur2[u],t))return false;return true;};this._hovercard.setPosition(this._position).setAlignment('center').enableBehaviors([s,c('LayerHideOnEscape')]);this._hovercard.subscribe('aftershow',this._onHovercardShow.bind(this));this._hovercard.subscribe('hide',this._onHovercardHide.bind(this));this._hovercard.subscribe('destroy',this._onHovercardDestroy.bind(this));if(this._hovercardScheduled)this.showHovercard(this._triggerClass,this._context);},showHovercard:function n(o,p){c('CSS').addClass(this._target,this._shownClass);if(this._triggerClass&&this._triggerClass!==o)c('CSS').removeClass(this._target,this._triggerClass);this._triggerClass=o;this._triggerClass&&c('CSS').addClass(this._target,this._triggerClass);this._context=p;if(this._hovercard){this._hovercard.setContext(p||this._target).show();this._hovercardShown=true;this._hovercardScheduled=false;this._hidePlaceholder();}else{this._hovercardScheduled=true;this._fetch();this._showPlaceholder();}this.inform('showhovercard');},hideHovercard:function n(){this._hovercardScheduled=false;this._hidePlaceholder();if(this._hovercard){this._hovercard.hide();}else this._onHovercardHide();},_showPlaceholder:function n(){if(!this._placeholder){this._placeholder=l(this._dialogClass);this._placeholder.setContext(this._context||this._target).setPosition(this._position).setAlignment('center').show();this._placeholderListener=this._placeholder.subscribe('hide',this._onPlaceholderHide.bind(this));}},_hidePlaceholder:function n(){this._placeholder&&this._placeholder.hide();},_onPlaceholderHide:function n(){if(this._placeholder){this._hovercardScheduled=false;this._placeholderListener&&this._placeholder.unsubscribe(this._placeholderListener);this._placeholder=null;!this._hovercardShown&&this._removeTriggerClasses();}},_onHovercardShow:function n(){var o=this._hovercard.getContent(),p=c('DOM').scry(o,'textarea.mentionsTextarea')[0];p&&p.focus();},_onHovercardHide:function n(){this._hovercardShown=false;this._removeTriggerClasses();this.inform('hidehovercard');},_onHovercardDestroy:function n(){this._hovercard=null;},_removeTriggerClasses:function n(){c('CSS').removeClass(this._target,this._shownClass);this._triggerClass&&c('CSS').removeClass(this._target,this._triggerClass);}});f.exports=m;}),null);
__d('PhotoMultiPhotosThumb',['Event','Style'],(function a(b,c,d,e,f,g){var h=1200,i={init:function j(k,l){var m=null,n=0;function o(q){n=q;l.forEach(function(r,s){c('Style').set(r,'opacity',s===q?1:0);});}function p(){o((n+1)%l.length);m=setTimeout(p,h);}c('Event').listen(k,'mouseenter',function(){if(m)return;n=0;p();});c('Event').listen(k,'mouseleave',function(){o(0);window.clearTimeout(m);m=null;});}};f.exports=i;}),null);
__d('BulkTagLoader',['AsyncRequest','emptyFunction'],(function a(b,c,d,e,f,g){var h=false;function i(){}Object.assign(i,{loadForSet:function j(k){if(!h){h=true;new (c('AsyncRequest'))('/ajax/photos/sets/tags_fetch.php').setHandler(c('emptyFunction')).setData({set:k}).send();}},loadForAlbum:function j(k){if(!h){h=true;new (c('AsyncRequest'))('/ajax/photos/album/tags_fetch.php').setHandler(c('emptyFunction')).setData({fbid:k}).send();}},reset:function j(){h=false;}});f.exports=i;}),null);
__d('PhotoCurationControl',['Event','Parent','Toggler'],(function a(b,c,d,e,f,g){var h={init:function i(j){var k=c('Parent').byClass(j,'fbPhotoStarGridElement');c('Event').listen(k,'mouseleave',function(){c('Toggler').hide();});}};f.exports=h;}),null);
__d('PhotoInlineActions',['csx','cx','Arbiter','AsyncRequest','CSS','Event','Nectar','Parent'],(function a(b,c,d,e,f,g,h,i){var j={init:function k(l,m,n,o,p,q,r,s,t,u){var v=false;c('Arbiter').subscribe(['UFI/CommentAddedActive','UFI/CommentDeletedActive','UFI/LikeActive'],function(w,x){if(parseInt(l.getAttribute('data-fbid'),10)!==x)return;if(w==='UFI/LikeActive')c('CSS').toggleClass(l,"_53a");new (c('AsyncRequest'))().setURI('/ajax/photos/photo/refresh.php').setData({fbid:l.getAttribute('data-fbid')}).setRelativeTo(l).send();});c('Event').listen(l,'click',function(event){var w=event.getTarget();if(v||!c('Parent').bySelector(w,"._53b"))return;event.prevent();c('CSS').toggleClass(l,"_53a");var x={};c('Nectar').addModuleData(x,l);v=new (c('AsyncRequest'))().setURI('/ajax/photos/photo/like.php').setData(babelHelpers['extends']({fbid:l.getAttribute('data-fbid'),relatedid:m,hovercardendpoint:n,includecommentlink:o,hovercardposition:p,includeleadingseparator:q,dialogClass:r,fetchOnHover:s,includeSocialContext:t,tagURI:u},x)).setRelativeTo(l).setErrorHandler(function(){c('CSS').toggleClass(l,"_53a");}).setFinallyHandler(function(){v=false;}).send();});}};f.exports=j;}),null);
__d('StarGridLayout',['Vector','removeFromArray'],(function a(b,c,d,e,f,g){function h(i){'use strict';Object.assign(this,i);}h.prototype.getShortestColumn=function(i){'use strict';return i[0]<=i[1]?0:1;};h.prototype.getDangling=function(i){'use strict';var j=i.filter(function(k){return !this.isStarred(k);}.bind(this));if(j.length%2===1)return j[j.length-1];return null;};h.prototype.mangleOrder=function(i){'use strict';if(i.length<3||!(this.isFixed(i[0])&&this.isStarred(i[1])))return i;var j=this.nextNonStarred(i,2);if(!j)return i;var k=i.concat();c('removeFromArray')(k,j);k.splice(1,0,j);return k;};h.prototype.layout=function(i){'use strict';var j=[0,0],k=0,l=this.getDangling(i),m=[];i=this.mangleOrder(i);for(var n=0;n<i.length;++n){var o=this.getShortestColumn(j),p=i[n];if(this.isStarred(p)){this.renderStarred(this._grid,j,o,p);j[o]+=2;k=Math.max(k,o*2+2);}else{m.push(p);if(m.length===2||p===l){this.renderNonStarred(this._grid,j,o,m);k=Math.max(k,o*2+m.length);m=[];j[o]+=1;}}}return new (c('Vector'))(k,Math.max.apply(null,j));};h.prototype.inNonStarredBlock=function(i,j,k,l){'use strict';return j===k[l]&&Math.floor(i/2)===l;};h.prototype.inStarredBlock=function(i,j,k,l){'use strict';return (j===k[l]||j===k[l]+1)&&Math.floor(i/2)===l;};h.prototype.nextNonStarred=function(i,j){'use strict';for(;j<i.length;++j)if(!this.isStarred(i[j]))return i[j];return null;};h.prototype.layoutReorder=function(i,j,k,l){'use strict';i=i.concat();k=Math.max(0,Math.min(3,k));l=Math.max(0,l);c('removeFromArray')(i,j);i.push(j);var m=[0,0],n=this.getDangling(i),o=false,p=[];for(var q=0;q<i.length;++q){var r=this.getShortestColumn(m),s=i[q];if(this.isStarred(s)){if(s===j)o=true;if(!o&&this.isStarred(j)&&this.inStarredBlock(k,l,m,r)&&this.inNonStarredBlock(k,l,m,r)){c('removeFromArray')(i,j);this.renderStarred(this._grid,m,r,j);m[r]+=2;r=this.getShortestColumn(m);o=true;}if(!o&&!this.isStarred(j)&&this.inStarredBlock(k,l,m,r)&&this.inNonStarredBlock(k,l,m,r)){c('removeFromArray')(i,j);if(p.length===1){p.splice(k%2,0,j);}else{var t=this.nextNonStarred(i,q);if(t){c('removeFromArray')(i,t);p.push(t);p.splice(k%2,0,j);}else p.push(j);}this.renderNonStarred(this._grid,m,r,p);p=[];m[r]+=1;n=this.getDangling(i.slice(q+1));r=this.getShortestColumn(m);o=true;}if(!o&&this.inStarredBlock(k,l,m,r)&&!this.inNonStarredBlock(k,l,m,r)){c('removeFromArray')(i,j);var t=this.nextNonStarred(i,q);i.push(j);if(t){c('removeFromArray')(i,t);i.splice(q,0,t);q--;continue;}l-=1;q--;continue;}this.renderStarred(this._grid,m,r,s);m[r]+=2;}else{p.push(s);if(p.length===2||s===n){if(!o&&!this.isStarred(j)&&this.inNonStarredBlock(k,l,m,r)){c('removeFromArray')(p,j);c('removeFromArray')(i,j);p.splice(k%2,0,j);if(p.length===3){c('removeFromArray')(i,p[2]);i.splice(q,0,p[2]);q=i.indexOf(p[2])-1;p.pop();}n=this.getDangling(i.slice(q+1));o=true;}if(!o&&this.isStarred(j)&&this.inNonStarredBlock(k,l,m,r)){c('removeFromArray')(i,j);this.renderStarred(this._grid,m,r,j);m[r]+=2;r=this.getShortestColumn(m);o=true;}this.renderNonStarred(this._grid,m,r,p);p=[];m[r]+=1;}}}};h.prototype.getStoringLayout=function(i){'use strict';return new h({grid:this._grid,isStarred:this.isStarred,isFixed:this.isFixed,renderStarred:function j(k,l,m,n){i.push(n);},renderNonStarred:function j(k,l,m,n){i.push(n[0]);if(n.length>1)i.push(n[1]);}});};h.prototype.reorder=function(i,j,k,l){'use strict';var m=[];this.getStoringLayout(m).layoutReorder(i,j,k,l);return m;};h.prototype.canonicalize=function(i){'use strict';var j=[];this.getStoringLayout(j).layout(i);return j;};f.exports=h;}),null);
__d('StarGrid',['Arbiter','CSS','DataStore','DOM','Locale','Parent','Style','StarGridLayout','removeFromArray'],(function a(b,c,d,e,f,g){var h={MARGIN:5,isStarred:function i(j){return c('CSS').hasClass(j,'fbPhotoStarGridStarred');},isFixed:function i(j){return c('CSS').hasClass(j,'fbPhotoStarGridFixed');},setPosition:function i(j,k,l){var m=c('Locale').isRTL()?'margin-right':'margin-left';c('Style').set(j,'position','absolute');c('Style').set(j,'margin-top',k+'px');c('Style').set(j,m,l+'px');},renderNonStarred:function i(j,k,l,m){for(var n=0;n<m.length;++n){var o=k[l]*h.getSize(j),p=(l*2+n)*h.getSize(j);h.setPosition(m[n],o,p);}},renderStarred:function i(j,k,l,m){var n=k[l]*h.getSize(j),o=l*2*h.getSize(j);h.setPosition(m,n,o);},mergeWithPreviousGrid:function i(j){var k=j.previousSibling;if(k&&c('CSS').hasClass(k,'fbStarGrid')){c('CSS').addClass(k,'fbStarGridAppendedTo');while(j.firstChild)k.appendChild(j.firstChild);c('DOM').remove(j);j=k;}return j;},addPhotos:function i(j){var k=c('DOM').scry(document.body,'.fbStarGrid')[0];if(!k)return;c('DOM').prependContent(k,j);var l=this.getSize(k);this.mergeAndLayoutGrid(k,l);},removeFromGrid:function i(j){var k=c('Parent').byClass(j,'fbStarGrid'),l=h.getElements(k);c('removeFromArray')(l,j);c('DOM').remove(j);h.layoutGrid(k,l);c('Arbiter').inform('StarGrid/UPDATE',k);},removePhoto:function i(j){var k=c('DOM').scry(document.body,'.fbPhotoStarGridElement[data-fbid="'+j+'"]')[0];this.removeFromGrid(k);},removeUntaggedPhoto:function i(j){var k=c('DOM').scry(document.body,'.fbPhotoStarGridElement[data-fbid="'+j+'"]'+'[data-in-photos-of="1"]');if(k.length>0)this.removeFromGrid(k[0]);},removePhotos:function i(j){var k,l;for(var m=0;m<j.length;m++){var n=j[m],o=c('DOM').scry(document.body,'.fbPhotoStarGridElement[data-fbid="'+n+'"]')[0];k=c('Parent').byClass(o,'fbStarGrid');l=h.getElements(k);c('removeFromArray')(l,o);c('DOM').remove(o);}h.layoutGrid(k,l);c('Arbiter').inform('StarGrid/UPDATE',k);},layoutGrid:function i(j,k){var l=new (c('StarGridLayout'))({_grid:j,isStarred:h.isStarred,isFixed:h.isFixed,renderNonStarred:h.renderNonStarred,renderStarred:h.renderStarred});h.setElements(j,k);var m=l.layout(k);c('Style').set(j,'width',m.x*h.getSize(j)+'px');c('Style').set(j,'height',m.y*h.getSize(j)+'px');},mergeAndLayoutGrid:function i(j,k){var l=c('DOM').scry(j,'.fbPhotoStarGridElement'),m=h.mergeWithPreviousGrid(j),n=l;if(j!==m)n=h.getElements(m).concat(l);h.setElements(j,n);c('DataStore').set(j,'size',k);h.layoutGrid(m,n);c('Arbiter').subscribe('PhotosBulkEditablePhoto.MOVED',function(o,p){h.removePhoto(p);}.bind(this));c('Arbiter').inform('StarGrid/UPDATE',j);},getSize:function i(j){return c('DataStore').get(j,'size');}};Object.assign(h,{getElements:function i(j){var k=c('DataStore').get(j,'elements');if(!k){k=c('DOM').scry(j,'div.fbPhotoStarGridElement');h.setElements(j,k);}return k;},setElements:function i(j,k){c('DataStore').set(j,'elements',k);}});f.exports=h;}),null);
__d('SphericalMediaGyroOverlay.react',['cx','CSS','React','ReactDOM','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=800,l=function n(o){var p=arguments.length<=1||arguments[1]===undefined?true:arguments[1],q=arguments.length<=2||arguments[2]===undefined?false:arguments[2];return {gyroRoot:"_1zvy"+(o?' '+"_2dz7":'')+(p?' '+"_4z8s":'')+(q?' '+"_4z8p":''),gyroOuter:"_4z8q",gyroInner:"_4z8r",gyroMeridian:"_4z8t",gyroEquator:"_4z8u",gyroTextShell:"_4z8v",gyroText:"_4z8w"};};i=babelHelpers.inherits(m,c('React').PureComponent);j=i&&i.prototype;m.prototype.componentDidUpdate=function(n){if(n.isActive&&!this.props.isActive){setTimeout(function(){return c('CSS').hide(c('ReactDOM').findDOMNode(this));}.bind(this),k);}else if(!this.props.isActive)c('CSS').hide(c('ReactDOM').findDOMNode(this));};m.prototype.componentDidMount=function(){if(!this.props.isActive)c('CSS').hide(c('ReactDOM').findDOMNode(this));};m.prototype.render=function(){var n=this.props,o=n.className,p=n.isActive,q=n.isInfinite,r=n.isPaused,s=l(p,q,r);return c('React').createElement('div',{className:c('joinClasses')(o,s.gyroRoot)},c('React').createElement('div',{className:s.gyroOuter},c('React').createElement('div',{className:s.gyroInner},c('React').createElement('div',{className:s.gyroMeridian}),c('React').createElement('div',{className:s.gyroEquator})),c('React').createElement('div',{className:s.gyroTextShell},c('React').createElement('span',{className:s.gyroText},'360'))));};function m(){i.apply(this,arguments);}f.exports=m;}),null);
__d('PhotoSnowliftViewable',['cx','Bootloader','CSS','DOM','EncryptedImg','Event','EventEmitter','ImageUtils','PhotoSnowliftViewableSphericalPhoto','React','ReactDOM','SphericalMediaGyroOverlay.react','Vector'],(function a(b,c,d,e,f,g,h){var i,j,k,l,m,n,o=2000,p=60,q=0,r=0;function s(aa,ba){var ca;if(aa.src&&aa.complete){setTimeout(ba,0);}else (function(){var da=c('Event').listen(aa,'load',function(){da.remove();ba();});})();}function t(aa,ba){if(c('EncryptedImg').isEncrypted(ba)){c('EncryptedImg').insertIntoDOM(ba,aa);}else aa.src=ba;}i=babelHelpers.inherits(u,c('EventEmitter'));j=i&&i.prototype;function u(){var aa=arguments.length<=0||arguments[0]===undefined?o:arguments[0],ba=arguments.length<=1||arguments[1]===undefined?1:arguments[1];'use strict';j.constructor.call(this);this.$PhotoSnowliftViewable5=c('DOM').create('div',{className:"_2-sx",'data-interaction-root-id':"_33_q"});this.$PhotoSnowliftViewable4=aa;this.$PhotoSnowliftViewable3=ba;this.$PhotoSnowliftViewable1=null;this.$PhotoSnowliftViewable2=0;this.$PhotoSnowliftViewable6();setTimeout(function(){return this.whenReady(function(){return this.$PhotoSnowliftViewable7();}.bind(this));}.bind(this),0);}u.prototype.$PhotoSnowliftViewable6=function(){'use strict';this.$PhotoSnowliftViewable1=setTimeout(function(){return this.$PhotoSnowliftViewable8();}.bind(this),this.$PhotoSnowliftViewable4);};u.prototype.$PhotoSnowliftViewable8=function(){'use strict';if(this.isReady())return;if(this.$PhotoSnowliftViewable2<this.$PhotoSnowliftViewable3){this.reload();this.$PhotoSnowliftViewable2++;this.$PhotoSnowliftViewable6();}else this.emit('loadingfailed');};u.prototype.reload=function(){'use strict';};u.prototype.$PhotoSnowliftViewable7=function(){'use strict';if(this.$PhotoSnowliftViewable1!==null){clearTimeout(this.$PhotoSnowliftViewable1);this.$PhotoSnowliftViewable1=null;}};u.prototype.getElement=function(){'use strict';return this.$PhotoSnowliftViewable5;};u.prototype.show=function(){'use strict';c('CSS').show(this.getElement());};u.prototype.hide=function(){'use strict';c('CSS').hide(this.getElement());};u.prototype.suspend=function(){'use strict';};u.prototype.resume=function(){'use strict';};u.prototype.onToggleIntoFullScreen=function(){'use strict';};u.prototype.onToggleOutOfFullScreen=function(){'use strict';};u.prototype.onEnterFullScreen=function(){'use strict';};u.prototype.onExitFullScreen=function(){'use strict';};u.prototype.getNaturalDimensions=function(){'use strict';return this.getDimensions();};u.prototype.getDimensions=function(){'use strict';return c('Vector').getElementDimensions(this.getElement());};u.prototype.setDimensions=function(aa){'use strict';var ba=this.getElement();ba.style.width=aa.x+'px';ba.style.height=aa.y+'px';};u.prototype.isReady=function(){'use strict';throw new Error('Viewable has no concept of readiness - should be calling a subclass');};u.prototype.whenReady=function(aa){'use strict';if(this.isReady()){setTimeout(aa,0);}else this.once('ready',aa);};k=babelHelpers.inherits(v,u);l=k&&k.prototype;function v(aa,ba){var ca=arguments.length<=2||arguments[2]===undefined?false:arguments[2],da=arguments[3],ea=arguments[4],fa=arguments.length<=5||arguments[5]===undefined?false:arguments[5],ga=arguments.length<=6||arguments[6]===undefined?false:arguments[6],ha=arguments[7];'use strict';l.constructor.call(this);this.$PhotoSnowliftViewablePhoto2=da;this.$PhotoSnowliftViewablePhoto7=aa;this.$PhotoSnowliftViewablePhoto6=ba;this.$PhotoSnowliftViewablePhoto3=ca;this.$PhotoSnowliftViewablePhoto1=ha;this.$PhotoSnowliftViewablePhoto8=ea;this.$PhotoSnowliftViewablePhoto9=fa;this.$PhotoSnowliftViewablePhoto10=ga;this.addListener('imageloaded',function(ia){return this.$PhotoSnowliftViewablePhoto11(ia);}.bind(this));this.$PhotoSnowliftViewablePhoto12();}v.prototype.$PhotoSnowliftViewablePhoto12=function(){'use strict';if(this.$PhotoSnowliftViewablePhoto4&&this.$PhotoSnowliftViewablePhoto4.parentElement)this.$PhotoSnowliftViewablePhoto4.parentElement.removeChild(this.$PhotoSnowliftViewablePhoto4);var aa=c('DOM').create('img',{className:'spotlight',alt:this.$PhotoSnowliftViewablePhoto1});this.$PhotoSnowliftViewablePhoto4=aa;this.$PhotoSnowliftViewablePhoto4.setAttribute('aria-busy','true');this.getElement().appendChild(this.$PhotoSnowliftViewablePhoto4);this.$PhotoSnowliftViewablePhoto13(this.$PhotoSnowliftViewablePhoto14());s(this.$PhotoSnowliftViewablePhoto4,function(){return this.emit('imageloaded',aa);}.bind(this));this.whenReady(function(){return this.$PhotoSnowliftViewablePhoto15();}.bind(this));this.$PhotoSnowliftViewablePhoto16();};v.prototype.$PhotoSnowliftViewablePhoto16=function(){'use strict';if(!this.$PhotoSnowliftViewablePhoto9&&!this.$PhotoSnowliftViewablePhoto10)return;c('Bootloader').loadModules(["PhotoDownloadTypedLogger"],function(aa){c('Event').listen(this.$PhotoSnowliftViewablePhoto4,'contextmenu',function(ba){if(this.$PhotoSnowliftViewablePhoto9)ba.preventDefault();if(this.$PhotoSnowliftViewablePhoto10)new aa().setDownloadMethod('context_menu').setPhotoFbid(this.$PhotoSnowliftViewablePhoto8).log();}.bind(this));}.bind(this),'PhotoSnowliftViewable');};v.prototype.$PhotoSnowliftViewablePhoto13=function(aa){'use strict';this.$PhotoSnowliftViewablePhoto5=aa;t(this.$PhotoSnowliftViewablePhoto4,this.$PhotoSnowliftViewablePhoto5);};v.prototype.$PhotoSnowliftViewablePhoto11=function(aa){'use strict';if(this.$PhotoSnowliftViewablePhoto4!==aa)return;this.emit('ready');};v.prototype.reload=function(){'use strict';this.$PhotoSnowliftViewablePhoto12();};v.prototype.$PhotoSnowliftViewablePhoto14=function(){'use strict';if(this.$PhotoSnowliftViewablePhoto3)return this.$PhotoSnowliftViewablePhoto7;return this.$PhotoSnowliftViewablePhoto6||this.$PhotoSnowliftViewablePhoto7;};v.prototype.$PhotoSnowliftViewablePhoto15=function(){'use strict';this.$PhotoSnowliftViewablePhoto4.setAttribute('aria-busy','false');};v.prototype.isReady=function(){'use strict';return this.$PhotoSnowliftViewablePhoto4.src&&c('ImageUtils').hasLoaded(this.$PhotoSnowliftViewablePhoto4);};v.prototype.getNaturalDimensions=function(){'use strict';if(this.$PhotoSnowliftViewablePhoto2)return this.$PhotoSnowliftViewablePhoto2;if(this.$PhotoSnowliftViewablePhoto4&&this.$PhotoSnowliftViewablePhoto4.naturalWidth&&this.$PhotoSnowliftViewablePhoto4.naturalHeight)return c('Vector').from(this.$PhotoSnowliftViewablePhoto4.naturalWidth,this.$PhotoSnowliftViewablePhoto4.naturalHeight);return l.getNaturalDimensions.call(this);};v.prototype.$PhotoSnowliftViewablePhoto17=function(){'use strict';return this.$PhotoSnowliftViewablePhoto5===this.$PhotoSnowliftViewablePhoto7;};v.prototype.onToggleIntoFullScreen=function(){'use strict';if(!this.$PhotoSnowliftViewablePhoto17())if(this.$PhotoSnowliftViewablePhoto5!==this.$PhotoSnowliftViewablePhoto7)t(new Image(),this.$PhotoSnowliftViewablePhoto7);};v.prototype.onEnterFullScreen=function(){'use strict';if(!this.$PhotoSnowliftViewablePhoto17())this.$PhotoSnowliftViewablePhoto13(this.$PhotoSnowliftViewablePhoto7);};m=babelHelpers.inherits(w,u);n=m&&m.prototype;function w(aa){'use strict';n.constructor.call(this);this.$PhotoSnowliftViewableImageWrapper1=aa;this.getElement().appendChild(aa);if(this.$PhotoSnowliftViewableImageWrapper1.complete){this.$PhotoSnowliftViewableImageWrapper2();}else c('Event').listen(this.$PhotoSnowliftViewableImageWrapper1,'load',function(){return this.$PhotoSnowliftViewableImageWrapper2();}.bind(this));}w.prototype.$PhotoSnowliftViewableImageWrapper2=function(){'use strict';(function(){return this.emit('ready');}).bind(this);};w.prototype.isReady=function(){'use strict';return c('ImageUtils').hasLoaded(this.$PhotoSnowliftViewableImageWrapper1);};w.prototype.getNaturalDimensions=function(){'use strict';if(this.$PhotoSnowliftViewableImageWrapper1&&this.$PhotoSnowliftViewableImageWrapper1.naturalWidth&&this.$PhotoSnowliftViewableImageWrapper1.naturalHeight)return c('Vector').from(this.$PhotoSnowliftViewableImageWrapper1.naturalWidth,this.$PhotoSnowliftViewableImageWrapper1.naturalHeight);return n.getNaturalDimensions.call(this);};function x(aa,ba){if(aa.spherical){return new (c('PhotoSnowliftViewableSphericalPhoto'))(aa.url,aa.smallurl,aa.spherical.cubestripuri,aa.spherical.tiledsphericalconfig,aa.spherical.initialviewverticalfov||p,aa.spherical.initialpitch||q,aa.spherical.initialheading||r,ba.shouldShowHiRes(aa),aa.dimensions,aa.spherical.partialLimits,String(aa.info.fbid),ba,aa.spherical.photosphereMetadata);}else return new v(aa.url,aa.smallurl,ba.shouldShowHiRes(aa),aa.dimensions,String(aa.info.fbid),!!aa.info.disablecontextmenu,!!aa.info.logcontextmenu,aa.info.caption);}function y(){var aa=c('DOM').create('div',{className:"_4yca _5nxw"});c('ReactDOM').render(c('React').createElement(c('SphericalMediaGyroOverlay.react'),{isActive:true}),aa);return aa;}function z(aa,ba){var ca=aa.parentElement,da=new w(aa);if(ca)ca.appendChild(da.getElement());if(ba)da.getElement().appendChild(y());return da;}f.exports.Viewable=u;f.exports.Photo=v;f.exports.SphericalPhoto=c('PhotoSnowliftViewableSphericalPhoto');f.exports.fromStreamData=x;f.exports.fromImageElement=z;}),null);
__d('SphericalMediaActions',[],(function a(b,c,d,e,f,g){'use strict';f.exports={TURN_ON:'TURN_ON',TURN_OFF:'TURN_OFF',ENABLE_SPHERICAL:'ENABLE_SPHERICAL',DISABLE_SPHERICAL:'DISABLE_SPHERICAL',REQUEST_PHOTO_FAILED:'REQUEST_PHOTO_FAILED',REQUEST_PHOTO:'REQUEST_PHOTO',RECEIVE_PHOTO:'RECEIVE_PHOTO',UPDATE_BASE:'UPDATE_BASE',DRAG_START:'DRAG_START',GYRO_START:'GYRO_START',ZOOM_START:'ZOOM_START',SIGNIFICANT_MOVE:'SIGNIFICANT_MOVE',MOUSE_ANIMATION_START:'MOUSE_ANIMATION_START',MOUSE_ENTER:'MOUSE_ENTER',VIEWPORT_CLICKED:'VIEWPORT_CLICKED',VISIBILITY_CHANGED:'VISIBILITY_CHANGED',UPDATE_DIMENSION:'UPDATE_DIMENSION',UPDATE_INITIAL_FOV:'UPDATE_INITIAL_FOV',UPDATE_INITIAL_VIEWPORT:'UPDATE_INITIAL_VIEWPORT',SETUP_RENDERER:'SETUP_RENDERER',WEBGL_CONTEXT_LOST:'WEBGL_CONTEXT_LOST',WEBGL_INIT_FAILED:'WEBGL_INIT_FAILED',WEBGL_RENDER_FAILED:'WEBGL_RENDER_FAILED',SOURCE_ONLOAD:'SOURCE_ONLOAD',REPLACE_BASE_STATE:'REPLACE_BASE_STATE',UPDATE_VIEW:'UPDATE_VIEW',UPDATE_VIEWPORT:'UPDATE_VIEWPORT',UPDATE_FOV:'UPDATE_FOV',UPDATE_VIEWPORT_AND_FOV:'UPDATE_VIEWPORT_AND_FOV',START_ANIMATING:'START_ANIMATING',STOP_ANIMATING:'STOP_ANIMATING',UPDATE_PHOTO_EDIT:'UPDATE_PHOTO_EDIT',CANCEL_EDITING:'CANCEL_EDITING',START_EDITING:'START_EDITING',STOP_EDITING:'STOP_EDITING',UPDATE_PHOTO:'UPDATE_PHOTO',UPDATE_PHOTO_FAILED:'UPDATE_PHOTO_FAILED',UPDATE_PHOTO_DONE:'UPDATE_PHOTO_DONE',RESET_MOUSE_ANIMATION:'RESET_MOUSE_ANIMATION',START_MOUSE_ANIMATION:'START_MOUSE_ANIMATION',STOP_MOUSE_ANIMATION:'STOP_MOUSE_ANIMATION',DISABLE_SPHERICAL_ON_SAVE:'DISABLE_SPHERICAL_ON_SAVE',ENABLE_SPHERICAL_ON_SAVE:'ENABLE_SPHERICAL_ON_SAVE',ENABLE_EDITING:'ENABLE_EDITING',DISABLE_EDITING:'DISABLE_EDITING',TAKE_STATE_SNAPSHOT:'TAKE_STATE_SNAPSHOT',RESORE_STATE_FROM_SNAPSHOT:'RESORE_STATE_FROM_SNAPSHOT',REMOVE_STATE_SNAPSHOT:'REMOVE_STATE_SNAPSHOT',PHOTO_REMOVED:'PHOTO_REMOVED',UPDATE_FILE_URL:'UPDATE_FILE_URL',UPDATE_RESIZED_FILE_URL:'UPDATE_RESIZED_FILE_URL',OPEN_TAG_DIALOG:'OPEN_TAG_DIALOG',CLOSE_TAG_DIALOG:'CLOSE_TAG_DIALOG',PHOTO_RENDERER_STATS:'PHOTO_RENDERER_STATS',ENABLE_TAGGING:'ENABLE_TAGGING',DISABLE_TAGGING:'DISABLE_TAGGING',UPDATE_SPATIAL_TAGS:'UPDATE_SPATIAL_TAGS',UPDATE_TAG_UNDER_MOUSE:'UPDATE_TAG_UNDER_MOUSE',TAGGING_START:'TAGGING_START',TAGGING_STOP:'TAGGING_STOP',UPDATE_TAG_CLICKED:'UPDATE_TAG_CLICKED',UPDATE_TAGGER:'UPDATE_TAGGER',ENTER_TAGGING_MODE:'ENTER_TAGGING_MODE',EXIT_TAGGING_MODE:'EXIT_TAGGING_MODE'};}),null);
__d('SphericalMediaActionNamespaces',[],(function a(b,c,d,e,f,g){'use strict';f.exports={BASE:'BASE',CORE:'CORE',PHOTO:'PHOTO',PHOTO_EDIT:'PHOTO_EDIT',VIEW:'VIEW'};}),null);
__d('SphericalMediaBaseActions',['SphericalMediaActionNamespaces','SphericalMediaActions'],(function a(b,c,d,e,f,g){'use strict';f.exports={updateBase:function h(i){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').UPDATE_BASE,data:i};},dragStart:function h(){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').DRAG_START};},gyroStart:function h(){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').GYRO_START};},mouseAnimationStart:function h(){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').MOUSE_ANIMATION_START};},mouseEnter:function h(){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').MOUSE_ENTER};},significantMove:function h(i){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').SIGNIFICANT_MOVE,data:{view:i}};},viewportClicked:function h(){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').VIEWPORT_CLICKED};},visibilityChanged:function h(i){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').VISIBILITY_CHANGED,data:i};},zoomStart:function h(){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').ZOOM_START};},updateDimension:function h(i,j){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').UPDATE_DIMENSION,data:{width:i,height:j}};},updateInitialViewport:function h(i,j){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').UPDATE_INITIAL_VIEWPORT,data:{initialYaw:i,initialPitch:j}};},updateInitialFOV:function h(i){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').UPDATE_INITIAL_FOV,data:{initialFov:i}};},setupRenderer:function h(i,j){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').SETUP_RENDERER,data:{renderer:i,dt:j}};},webGlInitFailed:function h(i){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').WEBGL_INIT_FAILED,data:{error:i}};},webGlRenderFailed:function h(i,j){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').WEBGL_RENDER_FAILED,data:{error:i,view:j}};},webGlContextLost:function h(){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').WEBGL_CONTEXT_LOST};},sourceOnLoad:function h(){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').SOURCE_ONLOAD};},replaceBaseState:function h(i){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').REPLACE_BASE_STATE,data:i};},updateSpatialTags:function h(i){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').UPDATE_SPATIAL_TAGS,data:i};},updateTagUnderMouse:function h(i){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').UPDATE_TAG_UNDER_MOUSE,data:i};},updateFileURL:function h(i){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').UPDATE_FILE_URL,data:i};},updateResizedFileURL:function h(i){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').UPDATE_RESIZED_FILE_URL,data:i};},enableTagging:function h(){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').ENABLE_TAGGING};},disableTagging:function h(){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').DISABLE_TAGGING};},taggingStart:function h(){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').TAGGING_START};},taggingStop:function h(){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').TAGGING_STOP};},updateTagClicked:function h(i){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').UPDATE_TAG_CLICKED,data:i};},updateTagger:function h(i){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').UPDATE_TAGGER,data:i};},enterTaggingMode:function h(){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').ENTER_TAGGING_MODE};},exitTaggingMode:function h(){return {namespace:c('SphericalMediaActionNamespaces').BASE,type:c('SphericalMediaActions').EXIT_TAGGING_MODE};}};}),null);
__d('SphericalMediaConstants',[],(function a(b,c,d,e,f,g){'use strict';var h={COMP_PHOTO_EDIT_THUMB:'PhotoEditThumbanil',COMP_PHOTO_VIEWER:'PhotoViewer',EDIT_VIEWPORT_SIZE:{width:476,height:476},HI_ALPHA_BG:{start:.2,end:.5},HI_ALPHA_ELEMENT:{start:.5,end:.85},HI_ALPHA_DURATION:400,HI_SIZE_NORMAL:{width:35,height:35,center_radius:2,background_radius:17.5,inner_radius:12,arc_radius:6.3,arc_stroke:5.3,inner_stroke:1,triangle:[2,2.5,5.2],rim_radius:16.8,rim_stroke:1.4},HI_SIZE_FULL:{width:50,height:50,center_radius:3,background_radius:25,inner_radius:17.14,arc_radius:9,arc_stroke:7.57,inner_stroke:1.5,triangle:[2.85,4.29,7.9],rim_radius:24,rim_stroke:2},HI_BLINK_ARC_RAD:Math.PI/6,HI_BLINK_DURATION:400,HI_FADE_OUT_DELAY:1000,MOUSE_EXPOSURE:4000,LOGGER_SURFACES:{newsfeed:'newsfeed',timeline:'timeline',fullpage:'photo_viewer',snowlift:'www_snowlift',composer:'composer',albumComposer:'album_composer',other:'other'},LOGGER_SIGNIFICANT_MOVEMENT_DEGREE:30,LOGGER_SIGNIFICANT_MOVEMENT_MS:1000,GYRO_SLIP_FACTOR:.15,RB_SPRING_FACTOR:25,RB_MAX_SPRING_DEGREE:15,RB_MAX_STRETCH_X_DEGREE:20,RB_MAX_STRETCH_Y_DEGREE:20,RB_FRICTION:.3,TILED_CUBE_FACES:{PLUS_X:2,MINUS_X:0,PLUS_Y:4,MINUS_Y:5,PLUS_Z:3,MINUS_Z:1},TILED_CUBE_TILE_CONTENT_SIZE:510,TILED_CUBE_TILE_PADDING_PIXELS:1,TAG:'tag',TAGGED_FACEBOX:'tagged_facebox',UNTAGGED_FACEBOX:'untagged_facebox'};f.exports=h;}),null);
__d('SphericalMediaBootloaded.react',['cx','BootloadedComponent.react','JSResource','LoadingIndicator.react','React','SphericalMediaConstants'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('SphericalMediaConstants').COMP_PHOTO_EDIT_THUMB,l=c('SphericalMediaConstants').COMP_PHOTO_VIEWER,m=function o(p,q){return c('React').createElement('div',{className:p,style:q},c('React').createElement(c('LoadingIndicator.react'),{className:"_4qlq",size:'small',color:'white'}));};i=babelHelpers.inherits(n,c('React').PureComponent);j=i&&i.prototype;n.prototype.render=function(){var o=void 0;switch(this.props.componentName){case k:var p=this.props.loadingElement||m("_7d7",{width:this.props.width,height:this.props.height});return c('React').createElement(c('BootloadedComponent.react'),babelHelpers['extends']({bootloadLoader:c('JSResource')('SphericalPhotoEditThumbnail.react').__setRef('SphericalMediaBootloaded.react'),bootloadPlaceholder:p},this.props));case l:o=c('React').createElement('div',null);return c('React').createElement(c('BootloadedComponent.react'),babelHelpers['extends']({bootloadLoader:c('JSResource')('SphericalPhotoViewer.react').__setRef('SphericalMediaBootloaded.react'),bootloadPlaceholder:o},this.props));default:return null;}};function n(){i.apply(this,arguments);}f.exports=n;}),null);
__d('SphericalPhotoPlaceHolderWithGyroOverlay.react',['cx','Image.react','React','SphericalMediaGyroOverlay.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){return c('React').createElement('div',{className:"_5nxw _1c1o"},c('React').createElement(c('Image.react'),{className:"_1c1p",height:this.props.height,src:this.props.placeholderImageURL,width:this.props.width}),c('React').createElement(c('SphericalMediaGyroOverlay.react'),{className:"_1c1q",isActive:true}));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('SphericalPhotoViewerLoggerUtil',['CSS','FullScreen','ProfileTabUtils','SphericalPhotoViewerLogEvents','SphericalPhotoViewerTypedLogger','TimelineURI','URI','SphericalMediaConstants'],(function a(b,c,d,e,f,g){'use strict';var h='timelineLayout',i=c('SphericalMediaConstants').LOGGER_SURFACES,j=function l(){if(c('FullScreen').isFullScreen())return i.fullpage;var m=c('URI').getMostRecentURI();if(Object.prototype.hasOwnProperty.call(m.getQueryData(),'theater'))return i.snowlift;if(m.getPath()==='/'||m.getPath()==='/home.php')return i.newsfeed;var n=c('TimelineURI').getTabKeyFromURI(m),o=c('TimelineURI').getVanityFromURI(m);if(o&&c('ProfileTabUtils').isTimelineTab(n)&&c('CSS').hasClass(document.body,h))return i.timeline;return i.other;},k={logTapHeadingIndicator:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').TAP_HEADING_INDICATOR,m);},logDragStart:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').DRAG_START,m);},logMouseOverStart:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').MOUSEOVER_START,m);},logWWWGyroStart:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_GYRO_START,m);},logZoomStart:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').ZOOM_START,m);},logDragMouseAnimation:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').DRAG_MOUSE_ANIMATION,m);},logEnterSnowlift:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_ENTER_SNOWLIFT,m);},logExitSnowlift:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_EXIT_SNOWLIFT,m);},logEnterFullScreen:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').ENTER_FULLSCREEN,m);},logExitFullScreen:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').EXIT_FULLSCREEN,m);},logSignificantMovement:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').SIGNIFICANT_MOVEMENT,m);},logIVSOpen:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_IVS_OPEN,m);},logIVSCancel:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_IVS_CANCEL,m);},logIVSEnableSphericalOnSave:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_IVS_ENABLE_ON_SAVE,m);},logIVSDisableSphericalOnSave:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_IVS_DISABLE_ON_SAVE,m);},logToggleOn:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').TOGGLE_ON,m);},logToggleOff:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').TOGGLE_OFF,m);},logIVSRequestStart:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_IVS_REQUEST_START,m);},logIVSRequestFailed:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_IVS_REQUEST_FAILED,m);},logIVSRequestDone:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_IVS_REQUEST_DONE,m);},logIVSUpdateStart:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_IVS_UPDATE_START,m);},logIVSUpdateFailed:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_IVS_UPDATE_FAILED,m);},logIVSUpdateDone:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WWW_IVS_UPDATE_DONE,m);},logWebGlInitFailed:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];k._log(c('SphericalPhotoViewerLogEvents').WEBGL_INIT_FAILURE,m,n);},logWebGlRenderFailed:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];k._log(c('SphericalPhotoViewerLogEvents').WEBGL_RENDER_FAILURE,m,n);},logWebGlContextLost:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').WEBGL_CONTEXT_LOST,m);},logNumberOfSphericalPhoto:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];k._log(c('SphericalPhotoViewerLogEvents').POST_EVENT,m);},logRendererSetup:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],n=arguments[1];m.renderMethod=n?'tiled':'cubestrip';k._log(c('SphericalPhotoViewerLogEvents').RENDERER_SETUP,m);},logRendererStats:function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];k._log(c('SphericalPhotoViewerLogEvents').RENDERER_STATS,m,n);},_log:function l(m,n){var o=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];n.surface=n.surface||j();new (c('SphericalPhotoViewerTypedLogger'))().setComposerSessionID(n.composerSessionID).setDt(n.dt).setErrorMessage(n.errorMessage).setName(m).setNumberOfSphericalPhoto(n.numberOfSphericalPhoto).setPhotoID(n.photoID).setPitch(n.pitch).setRenderMethod(n.renderMethod||'').setSphericalPhotoSessionID(n.sessionID).setSurface(n.surface).setVfov(n.vfov).setViewportHeight(n.viewportHeight).setViewportWidth(n.viewportWidth).setYaw(n.yaw).updateData(o).log();}};f.exports=k;}),null);
__d('PhotoSnowliftViewableSphericalPhoto',['cx','Arbiter','CSS','DOM','React','ReactDOM','SphericalMediaActions','SphericalMediaBootloaded.react','SphericalPhotoConfig','SphericalPhotoPlaceHolderWithGyroOverlay.react','SubscriptionsHandler','Vector','SphericalMediaConstants','PhotoSnowliftViewable','SphericalMediaBaseActions','getViewportDimensions','SphericalPhotoViewerLoggerUtil'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('SphericalMediaConstants').COMP_PHOTO_VIEWER,l=c('SphericalMediaConstants').LOGGER_SURFACES,m=c('PhotoSnowliftViewable').Viewable,n=c('SphericalMediaBaseActions').enterTaggingMode,o=c('SphericalMediaBaseActions').exitTaggingMode,p=c('SphericalMediaBaseActions').updateDimension,q=c('SphericalMediaBaseActions').updateSpatialTags,r=c('SphericalMediaBaseActions').updateTagger,s=c('SphericalPhotoViewerLoggerUtil').logEnterFullScreen,t=c('SphericalPhotoViewerLoggerUtil').logEnterSnowlift,u=c('SphericalPhotoViewerLoggerUtil').logExitFullScreen,v=c('SphericalPhotoViewerLoggerUtil').logExitSnowlift,w=2000*16,x=360;i=babelHelpers.inherits(y,m);j=i&&i.prototype;function y(aa,ba,ca,da,ea,fa,ga){var ha=arguments.length<=7||arguments[7]===undefined?false:arguments[7],ia=arguments[8],ja=arguments[9],ka=arguments[10],la=arguments[11],ma=arguments[12];j.constructor.call(this,w);z.call(this);this.$PhotoSnowliftViewableSphericalPhoto1=ca;this.$PhotoSnowliftViewableSphericalPhoto2=ia;this.$PhotoSnowliftViewableSphericalPhoto5=ka;this.$PhotoSnowliftViewableSphericalPhoto6=false;this.$PhotoSnowliftViewableSphericalPhoto7=ha;this.$PhotoSnowliftViewableSphericalPhoto8=false;this.$PhotoSnowliftViewableSphericalPhoto9=false;this.$PhotoSnowliftViewableSphericalPhoto11=ja;this.$PhotoSnowliftViewableSphericalPhoto12=la;this.$PhotoSnowliftViewableSphericalPhoto13=ba;this.$PhotoSnowliftViewableSphericalPhoto14=new (c('SubscriptionsHandler'))();this.$PhotoSnowliftViewableSphericalPhoto15=da;this.$PhotoSnowliftViewableSphericalPhoto16=aa;this.$PhotoSnowliftViewableSphericalPhoto17=ma;this.$PhotoSnowliftViewableSphericalPhoto4=c('DOM').create('div',{className:"_zq_ _5nxw"});this.$PhotoSnowliftViewableSphericalPhoto3=c('DOM').create('div',{className:"_zr0 _5nxw"});this.getElement().appendChild(this.$PhotoSnowliftViewableSphericalPhoto4);this.getElement().appendChild(this.$PhotoSnowliftViewableSphericalPhoto3);c('CSS').addClass(this.getElement(),"_zr1");this.$PhotoSnowliftViewableSphericalPhoto10={fov:ea,pitch:fa,yaw:ga};c('CSS').addClass(this.$PhotoSnowliftViewableSphericalPhoto12.stage,"_1ziy");this.$PhotoSnowliftViewableSphericalPhoto18();t(this.$PhotoSnowliftViewableSphericalPhoto19());}y.prototype.$PhotoSnowliftViewableSphericalPhoto19=function(){return {photoID:this.$PhotoSnowliftViewableSphericalPhoto5,surface:l.snowlift};};y.prototype.$PhotoSnowliftViewableSphericalPhoto18=function(){var aa=this.$PhotoSnowliftViewableSphericalPhoto20(),ba=[this.$PhotoSnowliftViewableSphericalPhoto21,this.$PhotoSnowliftViewableSphericalPhoto22];if(c('SphericalPhotoConfig').www_can_viewer_tag)ba.push(this.$PhotoSnowliftViewableSphericalPhoto23);c('ReactDOM').render(c('React').createElement(c('SphericalPhotoPlaceHolderWithGyroOverlay.react'),{placeholderImageURL:this.$PhotoSnowliftViewableSphericalPhoto24()}),this.$PhotoSnowliftViewableSphericalPhoto3);c('ReactDOM').render(c('React').createElement(c('SphericalMediaBootloaded.react'),{componentName:k,canvasNamespace:'Snowlift',cubeImageURI:this.$PhotoSnowliftViewableSphericalPhoto1,enableGyro:true,enableZoom:true,enableRubberBanding:true,height:aa.y,initialView:this.$PhotoSnowliftViewableSphericalPhoto10,photoID:this.$PhotoSnowliftViewableSphericalPhoto5,partialLimits:this.$PhotoSnowliftViewableSphericalPhoto11,photoSphereMetadata:this.$PhotoSnowliftViewableSphericalPhoto17,surface:l.snowlift,tiledSphericalConfig:this.$PhotoSnowliftViewableSphericalPhoto15,middlewares:ba,width:aa.x}),this.$PhotoSnowliftViewableSphericalPhoto4);this.$PhotoSnowliftViewableSphericalPhoto8=true;this.emit('ready');};y.prototype.$PhotoSnowliftViewableSphericalPhoto25=function(){c('ReactDOM').unmountComponentAtNode(this.$PhotoSnowliftViewableSphericalPhoto3);c('ReactDOM').unmountComponentAtNode(this.$PhotoSnowliftViewableSphericalPhoto4);};y.prototype.suspend=function(){this.$PhotoSnowliftViewableSphericalPhoto25();};y.prototype.resume=function(){this.$PhotoSnowliftViewableSphericalPhoto18();};y.prototype.reload=function(){this.$PhotoSnowliftViewableSphericalPhoto18();};y.prototype.hide=function(){if(c('CSS').shown(this.getElement()))v(this.$PhotoSnowliftViewableSphericalPhoto19());j.hide.call(this);this.$PhotoSnowliftViewableSphericalPhoto25();};y.prototype.getDimensions=function(){var aa=c('getViewportDimensions')(),ba=aa.width,ca=aa.height;if(c('SphericalPhotoConfig').should_snowlift_fit_to_screen){if(!this.$PhotoSnowliftViewableSphericalPhoto6)ba-=x;if(this.$PhotoSnowliftViewableSphericalPhoto11&&this.$PhotoSnowliftViewableSphericalPhoto11.partialTopDegrees||!this.isRenderReady())ba=ca=Math.min(ba,ca);}else ba=ca=Math.min(ba,ca);return c('Vector').from(ba,ca);};y.prototype.$PhotoSnowliftViewableSphericalPhoto20=function(){return c('Vector').getElementDimensions(this.getElement());};y.prototype.$PhotoSnowliftViewableSphericalPhoto26=function(aa){var ba=this.getElement().parentElement,ca=new (c('Vector'))(aa.x,aa.y);if(ba){var da=c('Vector').getElementDimensions(ba),ea=c('Vector').getElementDimensions(this.getElement());if(da.x!==ea.x||ca.x<da.x||ca.y<da.y){ca.x=da.x;ca.y=da.y;}}return ca;};y.prototype.isReady=function(){return this.$PhotoSnowliftViewableSphericalPhoto8;};y.prototype.isRenderReady=function(){return this.$PhotoSnowliftViewableSphericalPhoto9;};y.prototype.setDimensions=function(aa){j.setDimensions.call(this,this.$PhotoSnowliftViewableSphericalPhoto26(aa));this.emit('onSetDimensions');};y.prototype.onToggleIntoFullScreen=function(){};y.prototype.onEnterFullScreen=function(){if(this.$PhotoSnowliftViewableSphericalPhoto6)return;this.$PhotoSnowliftViewableSphericalPhoto6=true;this.emit('onEnterFullScreen');s(this.$PhotoSnowliftViewableSphericalPhoto19());};y.prototype.onExitFullScreen=function(){if(!this.$PhotoSnowliftViewableSphericalPhoto6)return;this.$PhotoSnowliftViewableSphericalPhoto6=false;this.emit('onExitFullScreen');u(this.$PhotoSnowliftViewableSphericalPhoto19());};y.prototype.$PhotoSnowliftViewableSphericalPhoto24=function(){return this.$PhotoSnowliftViewableSphericalPhoto7?this.$PhotoSnowliftViewableSphericalPhoto16:this.$PhotoSnowliftViewableSphericalPhoto13||this.$PhotoSnowliftViewableSphericalPhoto16;};var z=function aa(){this.$PhotoSnowliftViewableSphericalPhoto23=function(ba){var ca=ba.dispatch;c('Arbiter').subscribe(this.$PhotoSnowliftViewableSphericalPhoto12.getEventString('EXTRA_DATA_CHANGE'),function(da,ea){ca(q(ea.spatialTags));});if(this.$PhotoSnowliftViewableSphericalPhoto12.getTagger()){ca(r(this.$PhotoSnowliftViewableSphericalPhoto12.getTagger()));}else c('Arbiter').subscribe(this.$PhotoSnowliftViewableSphericalPhoto12.getEventString('TAGGER_READY'),function(da,ea){ca(r(this.$PhotoSnowliftViewableSphericalPhoto12.getTagger()));}.bind(this));c('Arbiter').subscribe(this.$PhotoSnowliftViewableSphericalPhoto12.getEventString('START_TAGGING'),function(da,ea){ca(n());});c('Arbiter').subscribe(this.$PhotoSnowliftViewableSphericalPhoto12.getEventString('STOP_TAGGING'),function(da,ea){ca(o());});return function(da){return function(ea){return da(ea);};};}.bind(this);this.$PhotoSnowliftViewableSphericalPhoto21=function(){return function(ba){return function(ca){if(ca.type===c('SphericalMediaActions').SETUP_RENDERER){this.$PhotoSnowliftViewableSphericalPhoto9=true;c('CSS').hide(this.$PhotoSnowliftViewableSphericalPhoto3);this.$PhotoSnowliftViewableSphericalPhoto12.adjustStageSize();}return ba(ca);}.bind(this);}.bind(this);}.bind(this);this.$PhotoSnowliftViewableSphericalPhoto22=function(ba){var ca=ba.dispatch;return function(da){return function(ea){if(ea.type===c('SphericalMediaActions').TURN_ON){var fa=function(){var ga=this.$PhotoSnowliftViewableSphericalPhoto20();ca(p(ga.x,ga.y));}.bind(this);this.$PhotoSnowliftViewableSphericalPhoto14.addSubscriptions(this.addListener('onEnterFullScreen',fa),this.addListener('onExitFullScreen',fa),this.addListener('onSetDimensions',fa));fa();}else if(ea.type===c('SphericalMediaActions').TURN_OFF)this.$PhotoSnowliftViewableSphericalPhoto14.release();return da(ea);}.bind(this);}.bind(this);}.bind(this);};f.exports=y;}),null);
__d('TagSuggestionsDrawer',['AsyncRequest','PhotosAppSection'],(function a(b,c,d,e,f,g){var h=false,i={init:function j(){if(h)return;h=true;c('PhotosAppSection').subscribe('toggle_drawer',i._onToggle);},_onToggle:function j(k,l){if(l.button_clicked=='show'){i._notify(false);}else i._notify(true);},_notify:function j(k){new (c('AsyncRequest'))('/ajax/medley/tag_suggestions_drawer.php').setData({is_closed:k}).send();}};f.exports=i;}),null);